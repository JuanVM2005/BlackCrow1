/* src/styles/globals.css */
@import "tailwindcss";

/* =========================================================
   TOKENS GLOBALES — NEUTRALES + FAMILIAS + SEMÁNTICOS
   (Tema claro: fondo blanco + texto negro)
   ========================================================= */
@layer base {
  :root {
    /* ---------- Escala NEUTRAL (50–1000) ---------- */
    --neutral-50:  #FAFAFA;
    --neutral-100: #F5F5F5;
    --neutral-200: #E5E5E5;
    --neutral-300: #D4D4D4;
    --neutral-400: #A3A3A3;
    --neutral-500: #737373;
    --neutral-600: #525252;
    --neutral-700: #404040;
    --neutral-800: #262626;
    --neutral-900: #171717;
    --neutral-950: #0B0F10;
    --neutral-1000:#0d0d0d;

    /* ---------- Superficies / texto / bordes ---------- */
    --surface: #FFFFFF;                 /* Fondo global */
    --surface-muted: var(--neutral-50);
    --surface-raised: #FFFFFF;
    --surface-inverse: var(--neutral-1000); /* Fondo oscuro por sección */
    --text: var(--neutral-1000);        /* Texto global oscuro */
    --text-muted: var(--neutral-600);
    --text-inverse: #FFFFFF;

    --border: var(--neutral-200);
    --border-strong: var(--neutral-300);

    /* ---------- Tokens de Card (plomos) ---------- */
    --surface-card: color-mix(in oklab, var(--surface) 92%, black);
    --border-card:  color-mix(in oklab, var(--border) 75%, black);

    /* ---------- Familias cromáticas (50–900) ---------- */
    /* Rose */
    --rose-50: #fff1f2;  --rose-100: #ffe4e6; --rose-200: #fecdd3;
    --rose-300: #fda4af; --rose-400: #fb7185; --rose-500: #f43f5e;
    --rose-600: #e11d48; --rose-700: #be123c; --rose-800: #9f1239;
    --rose-900: #881337;

    /* Pink (hot) — 500 = #ff6dc4 */
    --pink-50:  #fff0f8; --pink-100: #ffe0f1; --pink-200: #ffc2e4;
    --pink-300: #ff9fd5; --pink-400: #ff82cb; --pink-500: #ff6dc4;
    --pink-600: #f24eb2; --pink-700: #d83497; --pink-800: #b22579;
    --pink-900: #8c1d60;

    /* Violet */
    --violet-50: #f5f3ff;  --violet-100: #ede9fe; --violet-200: #ddd6fe;
    --violet-300: #c4b5fd; --violet-400: #a78bfa; --violet-500: #8b5cf6;
    --violet-600: #7c3aed; --violet-700: #6d28d9; --violet-800: #5b21b6;
    --violet-900: #4c1d95;

    /* Orange */
    --orange-50: #fff7ed;  --orange-100: #ffedd5; --orange-200: #fed7aa;
    --orange-300: #fdba74; --orange-400: #fb923c; --orange-500: #f97316;
    --orange-600: #ea580c; --orange-700: #c2410c; --orange-800: #9a3412;
    --orange-900: #7c2d12;

    /* Blue */
    --blue-50: #eff6ff;  --blue-100: #dbeafe; --blue-200: #bfdbfe;
    --blue-300: #93c5fd; --blue-400: #60a5fa; --blue-500: #3b82f6;
    --blue-600: #2563eb; --blue-700: #1d4ed8; --blue-800: #1e40af;
    --blue-900: #1e3a8a;

    /* Cyan */
    --cyan-50: #ecfeff;  --cyan-100: #cffafe; --cyan-200: #a5f3fc;
    --cyan-300: #67e8f9; --cyan-400: #22d3ee; --cyan-500: #06b6d4;
    --cyan-600: #0891b2; --cyan-700: #0e7490; --cyan-800: #155e75;
    --cyan-900: #164e63;

    /* Green */
    --green-50: #f0fdf4;  --green-100: #dcfce7; --green-200: #bbf7d0;
    --green-300: #86efac; --green-400: #4ade80; --green-500: #22c55e;
    --green-600: #16a34a; --green-700: #15803d; --green-800: #166534;
    --green-900: #14532d;

    /* ---------- Paleta CROW (basada en #1b1b1b) ---------- */
    --crow-300: #252525;
    --crow-400: #202020;
    --crow-500: #1b1b1b; /* base principal */
    --crow-600: #151515;
    --crow-700: #101010;

    /* Superficies específicas Crow */
    --surface-crow: var(--crow-500);
    --surface-crow-raised: color-mix(in oklab, var(--crow-500) 86%, white);
    --border-crow: color-mix(in oklab, var(--crow-500) 60%, white);

    /* ---------- Semánticos ---------- */
    --primary-50:  var(--violet-50);  --primary-100: var(--violet-100);
    --primary-200: var(--violet-200); --primary-300: var(--violet-300);
    --primary-400: var(--violet-400); --primary-500: var(--violet-500);
    --primary-600: var(--violet-600); --primary-700: var(--violet-700);
    --primary-800: var(--violet-800); --primary-900: var(--violet-900);

    --accent-50:  var(--rose-50);  --accent-100: var(--rose-100);
    --accent-200: var(--rose-200); --accent-300: var(--rose-300);
    --accent-400: var(--rose-400); --accent-500: var(--rose-500);
    --accent-600: var(--rose-600); --accent-700: var(--rose-700);
    --accent-800: var(--rose-800); --accent-900: var(--rose-900);

    --info-50:  var(--blue-50);  --info-100: var(--blue-100);
    --info-200: var(--blue-200); --info-300: var(--blue-300);
    --info-400: var(--blue-400); --info-500: var(--blue-500);
    --info-600: var(--blue-600); --info-700: var(--blue-700);
    --info-800: var(--blue-800); --info-900: var(--blue-900);

    --success-50:  var(--green-50);  --success-100: var(--green-100);
    --success-200: var(--green-200); --success-300: var(--green-300);
    --success-400: var(--green-400); --success-500: var(--green-500);
    --success-600: var(--green-600); --success-700: var(--green-700);
    --success-800: var(--green-800); --success-900: var(--green-900);

    --warning-50:  var(--orange-50);  --warning-100: var(--orange-100);
    --warning-200: var(--orange-200); --warning-300: var(--orange-300);
    --warning-400: var(--orange-400); --warning-500: var(--orange-500);
    --warning-600: var(--orange-600); --warning-700: var(--orange-700);
    --warning-800: var(--orange-800); --warning-900: var(--orange-900);

    --danger-50:  var(--rose-50);  --danger-100: var(--rose-100);
    --danger-200: var(--rose-200); --danger-300: var(--rose-300);
    --danger-400: var(--rose-400); --danger-500: var(--rose-500);
    --danger-600: var(--rose-600); --danger-700: var(--rose-700);
    --danger-800: var(--rose-800); --danger-900: var(--rose-900);

    /* Shortcuts */
    --primary: var(--primary-500);
    --accent: var(--accent-500);
    --info: var(--info-500);
    --success: var(--success-500);
    --warning: var(--warning-500);
    --danger: var(--danger-500);

    /* ---------- Brand (compat) ---------- */
    --brand: var(--primary-500);
    --brand-hover: var(--primary-600);
    --brand-foreground: #FFFFFF;

    /* ---------- Botones ---------- */
    --btn-bg: var(--neutral-1000);
    --btn-bg-hover: #000000;
    --btn-fg: #FFFFFF;
    --btn-border: var(--neutral-1000);
    --btn-bg-muted: color-mix(in oklab, var(--neutral-1000) 6%, transparent);

    /* ---------- Focus ring ---------- */
    --ring: var(--primary);

    /* ---------- Tipografías (Manrope + Rethink Sans) ---------- */
    /* next/font (layout.tsx) debe:
       - Manrope       → variable: "--font-sans"
       - Rethink Sans  → variable: "--font-display"
       Aquí solo definimos fallbacks; next/font las sobrescribe en runtime. */
    --font-sans: "Manrope", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    --font-display: "Rethink Sans", var(--font-sans);
    --font-mono: var(--font-sans);

    /* ---------- Layout / radios / sombras / z-index ---------- */
    --header-h: 4.5rem;

    --radius-sm: 0.5rem;
    --radius-md: 0.75rem;
    --radius-lg: 1rem;
    --radius-xl: 1.25rem;
    --radius-2xl: 2rem;
    --radius-full: 9999px;

    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.04);
    --shadow-sm: 0 2px 6px -1px rgb(0 0 0 / 0.08), 0 1px 2px 0 rgb(0 0 0 / 0.04);
    --shadow-md: 0 8px 16px -4px rgb(0 0 0 / 0.12), 0 2px 6px -2px rgb(0 0 0 / 0.06);
    --shadow-lg: 0 16px 32px -6px rgb(0 0 0 / 0.14), 0 6px 12px -4px rgb(0 0 0 / 0.06);
    --shadow-xl: 0 28px 56px -10px rgb(0 0 0 / 0.18);

    --z-header: 50;
    --z-modal: 100;
    --z-overlay: 120;

    /* ---------- Cursor custom ---------- */
    --cursor-size: 6px;
    --cursor-follower: 18px;
    --cursor-opacity: .28;
    --cursor-ink: var(--text-inverse); /* tinta por defecto (alias de compat abajo) */
    --cursor-color: var(--cursor-ink); /* alias para componentes antiguos */

    /* ---------- Gradientes preset ---------- */
    --g-hero: linear-gradient(
      135deg,
      color-mix(in oklab, var(--primary-700) 88%, black) 0%,
      color-mix(in oklab, var(--primary-500) 70%, var(--accent-500)) 42%,
      color-mix(in oklab, var(--accent-500) 18%, transparent) 100%
    );
    --g-card: linear-gradient(
      180deg,
      color-mix(in oklab, var(--primary-400) 10%, transparent) 0%,
      transparent 60%,
      color-mix(in oklab, var(--accent-400) 10%, transparent) 100%
    );
    --g-cta: radial-gradient(
      1200px 600px at 50% -10%,
      color-mix(in oklab, var(--primary-500) 16%, transparent) 0%,
      transparent 60%
    );
  }

  /* ---------- Tema por sección oscura ---------- */
  .section--dark {
    --section-surface: var(--surface-inverse);
    --section-text: var(--text-inverse);
    --section-border: color-mix(in oklab, white 12%, transparent);
    --section-primary: var(--primary-500);
    --section-accent: var(--accent-500);
    /* Card tokens en contexto oscuro */
    --surface-card: color-mix(in oklab, var(--surface-inverse) 86%, white);
    --border-card:  color-mix(in oklab, var(--surface-inverse) 65%, white);

    color: var(--section-text);
    background: var(--section-surface);
  }

  /* Preferencias del sitio */
  html { color-scheme: light; }

  /* Base mínima */
  *, *::before, *::after { box-sizing: border-box; }
  html, body, #__next { height: 100%; }
  body {
    margin: 0;
    font-family: var(--font-sans);
    background: var(--surface);
    color: var(--text);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  a { color: inherit; text-decoration: none; }
  a:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; }

  ::selection {
    background: color-mix(in oklab, var(--pink-700) 52%, transparent);
    color: var(--text-inverse);
  }

  /* Lenis */
  html.lenis { height: auto; }
  .lenis.lenis-smooth { scroll-behavior: auto; }
  .lenis.lenis-stopped { overflow: hidden; }
  .lenis [data-lenis-prevent] { touch-action: none; }
  .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }

  /* Cursor: solo en puntero fino */
  @media (hover: hover) and (pointer: fine) {
    body.cursor-none { cursor: none; }
  }

  /* =========================================================
     Ocultar SOLO la barra nativa (sin cambiar overflow)
     ========================================================= */
  html, body {
    scrollbar-width: none;      /* Firefox */
    -ms-overflow-style: none;   /* IE/Edge legacy */
  }
  html::-webkit-scrollbar,
  body::-webkit-scrollbar {
    display: none;
    width: 0;
    height: 0;
  }
  ::-webkit-scrollbar-button { display: none; }
}

/* ==========================================
   UTILIDADES (reutilizables, sin hardcodear)
   ========================================== */
@layer utilities {
  .surface-base    { background: var(--surface);         color: var(--text); }
  .surface-muted   { background: var(--surface-muted);   color: var(--text); }
  .surface-raised  { background: var(--surface-raised);  color: var(--text); }
  .surface-inverse { background: var(--surface-inverse); color: var(--text-inverse); }

  /* Superficie Crow para secciones oscuras específicas */
  .surface-crow {
    background: var(--surface-crow);
    color: var(--text-inverse);
  }

  .clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .full-bleed {
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    width: 100vw;
  }

  .anchor-safe { scroll-margin-top: var(--header-h); }

  /* Gradientes preset */
  .bg-g-hero { background-image: var(--g-hero); }
  .bg-g-card { background-image: var(--g-card); }
  .bg-g-cta  { background-image: var(--g-cta);  }

  /* Texto con gradiente */
  .text-gradient {
    background-image: linear-gradient(90deg, var(--primary-400), var(--accent-500), var(--info-500));
    -webkit-background-clip: text;
            background-clip: text;
    color: transparent;
  }

  /* Borde con gradiente */
  .border-gradient {
    position: relative;
    border: 1px solid transparent;
  }
  .border-gradient::before {
    content: "";
    position: absolute; inset: 0; z-index: 0;
    padding: 1px; border-radius: inherit;
    background: linear-gradient(135deg, var(--primary-500), var(--accent-500));
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
    pointer-events: none;
  }

  /* Fuente display (Rethink Sans) vía token */
  .font-display {
    font-family: var(--font-display);
  }
}
